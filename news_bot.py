import requests
import time

# рдЖрдкрдХреА рдбрд┐рдЯреЗрд▓реНрд╕
TOKEN = "8358591937:AAFx0QhlswIGkn0Ell8Be8ueV4RKRRUUFiQ"
CHAT_ID = "-1002340328243" # рдЖрдкрдХреА рдЪреИрдирд▓ ID

def get_market_news():
    # рдпрд╣ рдлрдВрдХреНрд╢рди рдЯреЙрдк рд╣реЗрдбрд▓рд╛рдЗрдВрд╕ рдФрд░ рдХреЙрд░реНрдкреЛрд░реЗрдЯ рдЕрдкрдбреЗрдЯреНрд╕ рд▓рд╛рдПрдЧрд╛
    try:
        # рд╣рдо рдиреНрдпреВрдЬрд╝ API рдХрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рдХрд░ рд░рд╣реЗ рд╣реИрдВ (рдлреНрд░реА рд╡рд░реНрдЬрди)
        url = "https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=YOUR_NEWS_API_KEY"
        # рдиреЛрдЯ: рдЕрднреА рдбреЗрдореЛ рдХреЗ рд▓рд┐рдП рдореИрдВ рдПрдХ рдЬрдирд░рд▓ рд╕реНрдЯреЙрдХ рдЕрдкрдбреЗрдЯ рджреЗ рд░рд╣рд╛ рд╣реВрдБ
        # рдЕрд╕рд▓реА рдиреНрдпреВрдЬрд╝ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ newsapi.org рд╕реЗ рдПрдХ рдлреНрд░реА рдХреА (Key) рд▓реЗрдиреА рд╣реЛрдЧреА
        
        updates = [
            "ЁЯУв *Market Update:* рд╕реЗрдВрд╕реЗрдХреНрд╕ рдФрд░ рдирд┐рдлреНрдЯреА рдореЗрдВ рдЖрдЬ рдЙрддрд╛рд░-рдЪрдврд╝рд╛рд╡ рдЬрд╛рд░реАред",
            "ЁЯУК *Corporate Result:* рд░рд┐рд▓рд╛рдпрдВрд╕ рдЗрдВрдбрд╕реНрдЯреНрд░реАрдЬ рдХреЗ рдирддреАрдЬреЗ рдЙрдореНрдореАрдж рд╕реЗ рдмреЗрд╣рддрд░ рд░рд╣рдиреЗ рдХреА рд╕рдВрднрд╛рд╡рдирд╛ред",
            "ЁЯЪА *NSE Update:* рдирдП рд╕реНрдЯреЙрдХреНрд╕ рдХреА рд▓рд┐рд╕реНрдЯрд┐рдВрдЧ рдФрд░ рд╕рд░реНрдХрд┐рдЯ рд▓рд┐рдорд┐рдЯ рдореЗрдВ рдмрджрд▓рд╛рд╡ рдкрд░ рдиреЫрд░ред"
        ]
        return updates
    except:
        return []

def send_news(message):
    url = f"https://api.telegram.org/bot{TOKEN}/sendMessage"
    payload = {"chat_id": CHAT_ID, "text": message, "parse_mode": "Markdown"}
    requests.post(url, json=payload)

if __name__ == "__main__":
    news_list = get_market_news()
    for news in news_list:
        send_news(news)
        time.sleep(2) # рдереЛрдбрд╝рд╛ рдЧреИрдк рддрд╛рдХрд┐ рдЯреЗрд▓реАрдЧреНрд░рд╛рдо рд╕реНрдкреИрдо рди рд╕рдордЭреЗ

